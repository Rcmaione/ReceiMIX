<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReceiMIX - Receitas</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="style2.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Roboto:wght@300;400;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="header">
        <p id="central">ReceiMIX</p>
        <img id="logo1" src="./arquivos/f1-removebg-preview.png">
        <div class="navheader">
            <!-- COLOCAR A URL DE LOGIN -->
            <a href="PAGINA DE LOGIN">
                <img id="login" src="./arquivos/login.png">
                <p id="botaologin">login</p>
            </a>
            <form id="inputsearch">
                <input type="search" id="search" placeholder="Procure uma receita" autocomplete="off" required>
                <input type="image" id="botaosearch" src="./arquivos/LUPA2.png" alt="Enviar">
            </form>
        </div>
    </div>
    <div>
        <h1>Principais receitas</h1>  
    </div>
    <div class="slider">
        <div class="slides">
            <input type="radio" name="radiobt" id="radio1">
            <input type="radio" name="radiobt" id="radio2">
            <input type="radio" name="radiobt" id="radio3">
            <input type="radio" name="radiobt" id="radio4">

            <div class="slide first">
                <a href="strogonoff.html"><img src="arquivos/strogonoff.jpeg" alt="Imagem 1"></a>
            </div>
            <div class="slide">
                <a href="macarronada.html"><img src="arquivos/macarronada_de_calabresa.jpg" alt="Imagem 2"></a>
            </div>
            <div class="slide">
                <a href="farofa.html"><img src="arquivos/farofa.jpg" alt="Imagem 3"></a>
            </div>
            <div class="slide">
                <a href="empada.html"><img src="arquivos/empadinha.jpg" alt="Imagem 4"></a>
            </div>
           
            <div class="navigation">
                <div class="bt1"></div>
                <div class="bt2"></div>
                <div class="bt3"></div>
                <div class="bt4"></div>
            </div>
        </div>
        <div class="manual">
                <label for="radio1" class="manual-btn"></label>
                <label for="radio2" class="manual-btn"></label>
                <label for="radio3" class="manual-btn"></label>
                <label for="radio4" class="manual-btn"></label>
        </div>
    </div>
    
    <h1>Receitas Salgadas</h1>
    <div class="cont" id="receitas-totais">
        <!-- Os cards das receitas serão adicionados aqui através do JavaScript -->
    </div>
    

    <script>
        function carregarReceitas() {
            fetch('receitas.json')
                .then(response => response.json())
                .then(receitas => {
                    const container = document.querySelector("#receitas-totais");

                    receitas.forEach(receita => {
                        const card = document.createElement("div");
                        card.classList.add("card");

                        const img = document.createElement("img");
                        img.classList.add("capa");
                        img.src = receita.imagem;
                        img.alt = receita.receita; 

                        const titulo = document.createElement("p");
                        titulo.classList.add("nome-receita"); 
                        titulo.textContent = receita.receita;

                        const descricao = document.createElement("p"); 
                        descricao.classList.add("desc-receita");
                        descricao.textContent = receita.descricao;

                        const relogio = document.createElement("img");
                        relogio.classList.add("relogio"); 
                        relogio.src = receita.relogio;

                        const tempo = document.createElement("label"); 
                        tempo.textContent = receita.tempo;

                        const serve = document.createElement("img");
                        serve.classList.add("relogio"); 
                        serve.src = receita.serve;

                        const pessoas = document.createElement("label"); 
                        pessoas.textContent = receita.pessoas;

                        const link = document.createElement("a"); 
                        link.href = receita.link;  

                        card.appendChild(img);
                        card.appendChild(link);
                        card.appendChild(titulo);
                        card.appendChild(descricao);
                        card.appendChild(relogio)
                        card.appendChild(tempo); 
                        card.appendChild(serve); 
                        card.appendChild(pessoas); 

                        link.appendChild(img);
                        link.appendChild(titulo);
                        link.appendChild(descricao);
                        link.appendChild(relogio);
                        link.appendChild(tempo);
                        link.appendChild(serve);
                        link.appendChild(pessoas);

                        container.appendChild(card);
                    });
                })
                .catch(error => console.error('Erro ao carregar receitas:', error));
        }

        carregarReceitas();

        let count = 1;
        document.getElementById("radio1").checked = true;

        setInterval(function(){
            nextImage();
        }, 4000);

        function nextImage() {
            count++;
            if (count > 4) {
                count = 1;
            }
            document.getElementById("radio" + count).checked = true;
        }



        const content = document.querySelector(".cont");
        const inputSearch = document.getElementById("search");
        const searchButton = document.getElementById("botaosearch");

        let items = [];

        
        
        function handleSearch(event) {
            if (event.type === 'input' || (event.type === 'click' && event.key === 'Enter')) {
                content.innerHTML = "";
                
                items
                .filter((item) =>
                item.receita.toLowerCase().includes(inputSearch.value.toLowerCase())
                )
                .forEach((item) => addHTML(item));
            }
        }
        
        inputSearch.addEventListener('input', handleSearch);
        searchButton.addEventListener('click', handleSearch);
        inputSearch.addEventListener('keypress', handleSearch);
        

        function addHTML(item) {
            const div = document.createElement("div");
            div.classList.add("card");

            const img = document.createElement("img");
            img.classList.add("capa");
            img.src = item.imagem;
            img.alt = item.receita;

            const titulo = document.createElement("p");
            titulo.classList.add("nome-receita");
            titulo.textContent = item.receita;

            const descricao = document.createElement("p");
            descricao.classList.add("desc-receita");
            descricao.textContent = item.descricao;

            const relogio = document.createElement("img");
            relogio.classList.add("relogio");
            relogio.src = item.relogio;

            const tempo = document.createElement("label");
            tempo.textContent = item.tempo;

            const serve = document.createElement("img");
            serve.classList.add("relogio");
            serve.src = item.serve;

            const pessoas = document.createElement("label");
            pessoas.textContent = item.pessoas;

            const link = document.createElement("a");
            link.href = item.link;

            div.appendChild(img);
            div.appendChild(link);
            div.appendChild(titulo);
            div.appendChild(descricao);
            div.appendChild(relogio);
            div.appendChild(tempo);
            div.appendChild(serve);
            div.appendChild(pessoas);

            content.appendChild(div);
        }

        fetch('receitas.json')
            .then(response => response.json())
            .then(receitas => {
                receitas.forEach(receita => {
                    items.push(receita);
                });
            })
            .catch(error => console.error('Erro ao carregar receitas para pesquisa:', error));
    </script>
</body>
</html>
