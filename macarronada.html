<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReceiMIX - Receitas</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="style2.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Roboto:wght@300;400;700;900&display=swap" rel="stylesheet">
    <script type="text/javascript" defer src="scripe.js"></script>
</head>
<body>
    <div class="header">
        <a href="index.html">
            <p id="central">ReceiMIX</p>
        </a>
        <a href="index.html">
            <img id="logo1" src=".\arquivos\f1-removebg-preview.png">
        </a>
        <nav>
            <div id="minhasreceitas">
                <!--Vai ser colocado aqui as minhas receitas-->
            </div>
            <div id="remover">
                <a href="login.html">
                    <img id="login" src="./arquivos/login.png">
                    <p id="botaologin">login</p>
                </a>
            </div>
            <form id="inputsearch">
                <input type="search" id="search" placeholder="Procure uma receita" autocomplete="off" required>
                <input type="image" disabled id="botaosearch" src="./arquivos/LUPA2.png" alt="Enviar">
            </form>
    <nav>
    </div>

    <div id="conteudo" class="conteudo">
        <!-- Conteúdo será adicionado dinamicamente aqui -->
    </div>

    <div class="compartilhar">
        <p id="compartilhe">Compartilhe:</p>
        <a href="https://www.facebook.com/sharer/sharer.php?u=https://rcmaione.github.io/animar/">
            <img width="25" height="25" src="https://ayltoninacio.com.br/img/s/18w50.jpg" alt="Compartilhe no Facebook">
        </a>
        <a href="https://api.whatsapp.com/send?text=https://rcmaione.github.io/animar/">
            <img width="25" height="25" src="https://ayltoninacio.com.br/img/s/20w50.jpg" alt="Compartilhe no WhatsApp">
        </a>
        <a href="javascript:void(0)" onclick="share()">
            <img width="25" height="25" src="https://ayltoninacio.com.br/img/s/21w50.jpg" alt="Compartilhe">
        </a>
    </div>

    <div class="calculadora">
        <h3>Calculadora de medidas</h3>
        <ol>
            <li id="ulcalc">
                <p>---------------------------------</p>
                <p>Transformar colheres de sopa em gramas</p>
                <p>----------------------------------</p>
                <label for="colheres">Colheres:</label>
                <input type="number" id="colheres" placeholder="Insira a quantidade de colheres">
                <button onclick="converterGramasEmColheres()">Converter</button>
                <p id="resultado"></p>
            </li>
            <li id="ulcalc">
                <p>---------------------------------</p>
                <p>Transformar xícaras em mililitros</p>
                <p>---------------------------------</p>
                <label for="xicaras">Xícaras:</label>
                <input type="number" id="xicaras" placeholder="Insira a quantidade em xícaras">
                <button onclick="converterXicarasEmMililitros()">Converter</button>
                <p id="resultado2"></p>
            </li>
            <li id="ulcalc">
                <p>---------------------------------</p>
                <p>Transformar xícaras em gramas</p>
                <p>---------------------------------</p>
                <label for="xicaras2">Xícaras:</label>
                <input type="number" id="xicaras2" placeholder="Insira a quantidade em xícaras">
                <button onclick="converterXicarasEmGramas()">Converter</button> 
                <p id="resultado3"></p>
            </li>
        </ol>
    </div>

    <div class="footer">
        <p>Copyright - <a href="#" class="link-footer">ReceiMIX</a> 2023 - Projeto para fins didáticos</p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const container = document.querySelector("#conteudo");

            function carregarReceitas() {
                fetch('receitas_individuais.json')
                    .then(response => response.json())
                    .then(receitas => exibirReceitas(receitas))
                    .catch(error => console.error('Erro ao carregar receitas:', error));
            }

            function exibirReceitas(receitas) {
                receitas.forEach(receita => {
                    const card = criarCardReceita(receita);
                    container.appendChild(card);
                });
            }

            function criarCardReceita(receita) {
                const card = document.createElement("div");
                card.classList.add("conteudo");

                const tituloReceita = document.createElement("h1");
                tituloReceita.classList.add("titulo-receita");
                tituloReceita.textContent = receita.titulo;

                const cardIngredientes = criarCardIngredientes(receita.ingredientes);
                const cardModoPreparo = criarCardModoPreparo(receita.modoPreparo);

                card.appendChild(tituloReceita);
                card.appendChild(cardIngredientes);
                card.appendChild(cardModoPreparo);

                return card;
            }

            function criarCardIngredientes(ingredientes) {
                const card = document.createElement("div");
                card.classList.add("carde");

                const img = document.createElement("img");
                img.classList.add("capa");
                img.src = ingredientes.imagem;
                

                card.classList.add("carde");
                const tituloIngredientes = document.createElement("h1");
                tituloIngredientes.textContent = "INGREDIENTES";

                const listaIngredientes = document.createElement("ul");
                ingredientes.forEach(ingrediente => {
                    const item = document.createElement("li");
                    item.textContent = ingrediente;
                    listaIngredientes.appendChild(item);
                });
                card.append(img);
                card.appendChild(tituloIngredientes);
                card.appendChild(listaIngredientes);

                return card;
            }

            function criarCardModoPreparo(modoPreparo) {
                const card = document.createElement("div");
                card.classList.add("carde");

                const tituloModoPreparo = document.createElement("h1");
                tituloModoPreparo.textContent = "MODO DE PREPARO";

                const listaModoPreparo = document.createElement("ol");
                modoPreparo.forEach(passo => {
                    const item = document.createElement("li");
                    item.textContent = passo;
                    listaModoPreparo.appendChild(item);
                });

                const botaoAdicionar = document.createElement("a");
                botaoAdicionar.href = "#";
                botaoAdicionar.classList.add("botao");
                botaoAdicionar.textContent = "Adicionar às minhas receitas";

                card.appendChild(tituloModoPreparo);
                card.appendChild(listaModoPreparo);
                card.appendChild(botaoAdicionar);

                return card;
            }

            carregarReceitas();
        });

        function share() {
            if (navigator.share !== undefined) {
                navigator.share({
                    title: 'ReceiMIX',
                    text: 'A sua melhor receita',
                    url: 'https://rcmaione.github.io/animar/',
                })
                    .then(() => console.log('Successful share'))
                    .catch((error) => console.log('Error sharing', error));
            }
        }

        function converterGramasEmColheres() {
            const colheres = parseFloat(document.getElementById("colheres").value);
            const gramas = colheres * 18;
            document.getElementById("resultado").innerHTML = `${colheres} colher(es) de sopa é aproximadamente ${gramas.toFixed(2)} gramas.`;
        }

        function converterXicarasEmMililitros() {
            const xicaras = parseFloat(document.getElementById("xicaras").value);
            const mililitros = xicaras * 240;

            document.getElementById("resultado2").innerHTML = `${xicaras} xícara(s) é aproximadamente ${mililitros.toFixed(2)} ml.`;
        }

        function converterXicarasEmGramas() {
            const xicaras = parseFloat(document.getElementById("xicaras2").value);
            const gramas = xicaras * 240;

            document.getElementById("resultado3").innerHTML = `${xicaras} xícara(s) é aproximadamente ${gramas.toFixed(2)} gramas.`;
        }
    </script>
</body>
</html>
